(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{264:function(t,i,e){var n=e(266);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,e(46).default)("d4be674c",n,!0,{})},265:function(t,i,e){"use strict";var n=e(264);e.n(n).a},266:function(t,i,e){(t.exports=e(45)(!1)).push([t.i,"body{padding:0;background-color:#263238;color:#eceff1}.container{min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center}.setting-btn{position:absolute;top:36px;right:36px;font-size:36px;cursor:pointer}.dialog-input{margin-top:24px}.count-box{font-size:120px;letter-spacing:.2em}.clock{font-size:24px;letter-spacing:.1em;margin-top:24px}",""])},267:function(t,i,e){"use strict";e.r(i);e(147),e(148);var n=function(t){return(t=t.toString())[1]?t:"0"+t},o=function(t){if(!t)return"";var i=new Date(t);if(!i)return"";var e=i.getFullYear(),o=i.getMonth()+1,s=i.getDate(),a=i.getHours(),r=i.getMinutes(),c=i.getSeconds();return[e,o,s].map(n).join("-")+" "+[a,r,c].map(n).join(":")},s={data:function(){return{timeStr:"",countStr:"00:00:00",dialogVisible:!1,countTime:-2874e4,counting:0,warningText:"",isGranted:!1,timer:null,opened:!1}},watch:{opened:function(t){if(clearTimeout(this.timer),t){if(this.counting<=0)return this.opened=!1,void this.$message({message:"You need to set the notification interval first!",type:"error"});this.count()}}},mounted:function(){var t=this;Notification.requestPermission(function(i){t.isGranted="granted"===i});var i=new Date;this.timeStr=o(i),this.timing(),this.counting=localStorage.getItem("time-to-rest-counting")?parseInt(localStorage.getItem("time-to-rest-counting")):0,this.counting>0&&(this.countStr=this.toHHMMSS(this.counting/1e3))},methods:{timing:function(){var t=this,i=new Date;this.timeStr=o(i),this.timer=setTimeout(function(){t.timing()})},count:function(){var t=this;if(this.countStr=this.toHHMMSS(this.counting/1e3),0===this.counting)return this.isGranted?new Notification("Time to rest",{body:this.warningText||"It's time to rest!"}):alert(this.warningText||"It's time to rest!"),void(this.opened=!1);this.timer=setTimeout(function(){t.counting-=1e3,t.count()},1e3)},submit:function(){this.dialogVisible=!1,this.counting=new Date(this.countTime).getTime()-new Date("1970 00:00:00").getTime(),this.counting>=0?(localStorage.setItem("time-to-rest-counting",this.counting),this.opened=!0):this.$message({message:"notification interval is wrong, try again!",type:"error"})},toHHMMSS:function(t){var i=Math.floor(t/3600),e=Math.floor((t-3600*i)/60),n=t-3600*i-60*e;return i<10&&(i="0"+i),e<10&&(e="0"+e),n<10&&(n="0"+n),i+":"+e+":"+n}}},a=(e(265),e(32)),r=Object(a.a)(s,function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"container"},[e("span",{staticClass:"setting-btn",on:{click:function(i){t.dialogVisible=!0}}},[e("i",{staticClass:"el-icon-location"})]),t._v(" "),e("div",{staticClass:"count-box"},[t._v("\n    "+t._s(t.countStr)+"\n  ")]),t._v(" "),e("el-switch",{attrs:{width:60},model:{value:t.opened,callback:function(i){t.opened=i},expression:"opened"}}),t._v(" "),e("span",{staticClass:"clock"},[t._v(t._s(t.timeStr))]),t._v(" "),e("el-dialog",{attrs:{visible:t.dialogVisible,title:"Setting Config",width:"40%"},on:{"update:visible":function(i){t.dialogVisible=i}}},[e("el-time-picker",{attrs:{"picker-options":{selectableRange:"00:01:00 - 23:59:59"},placeholder:"notification interval"},model:{value:t.countTime,callback:function(i){t.countTime=i},expression:"countTime"}}),t._v(" "),e("el-input",{staticClass:"dialog-input",attrs:{placeholder:"notification text"},model:{value:t.warningText,callback:function(i){t.warningText=i},expression:"warningText"}}),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(i){t.dialogVisible=!1}}},[t._v("CANCEL")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("SUBMIT")])],1)],1)],1)},[],!1,null,null,null);r.options.__file="index.vue";i.default=r.exports}}]);